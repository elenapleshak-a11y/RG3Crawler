<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SEO Migration Auditor - –ë–∞–∑–æ–≤—ã–π –∫—Ä–∞—É–ª–µ—Ä</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>üîç SEO Migration Auditor</h1>
        <p class="subtitle">–≠—Ç–∞–ø 1: –ë–∞–∑–æ–≤—ã–π –∫—Ä–∞—É–ª–µ—Ä –¥–ª—è –∞—É–¥–∏—Ç–∞ —Å–∞–π—Ç–∞</p>
        
        <div class="input-section">
            <div class="input-group">
                <label for="urlInput">URL —Å–∞–π—Ç–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞:</label>
                <input type="url" id="urlInput" placeholder="https://example.com" required>
            </div>
            
            <div class="settings-grid">
                <div class="input-group">
                    <label for="maxPages">–õ–∏–º–∏—Ç —Å—Ç—Ä–∞–Ω–∏—Ü:</label>
                    <input type="number" id="maxPages" value="500" min="1" max="10000">
                </div>
                
                <div class="input-group">
                    <label for="crawlDelay">–ó–∞–¥–µ—Ä–∂–∫–∞ (–º—Å):</label>
                    <input type="number" id="crawlDelay" value="200" min="50" max="2000">
                </div>
                
                <div class="checkbox-group">
                    <label>
                        <input type="checkbox" id="noLimit">
                        üö´ –ù–µ —É—á–∏—Ç—ã–≤–∞—Ç—å –ª–∏–º–∏—Ç —Å—Ç—Ä–∞–Ω–∏—Ü
                    </label>
                </div>
                
                <div class="checkbox-group">
                    <label>
                        <input type="checkbox" id="collectMetadata" checked>
                        üìä –°–æ–±–∏—Ä–∞—Ç—å –º–µ—Ç–∞-–¥–∞–Ω–Ω—ã–µ (Title, Description)
                    </label>
                </div>
            </div>
        </div>

        <div class="controls">
            <button id="crawlBtn" onclick="startCrawling()">‚ñ∂Ô∏è –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫—Ä–∞—É–ª–∏–Ω–≥</button>
            <button id="stopBtn" onclick="stopCrawling()" style="display: none;">‚èπÔ∏è –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
            <button id="pauseBtn" onclick="togglePause()" style="display: none;">‚è∏Ô∏è –ü–∞—É–∑–∞</button>
        </div>

        <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å -->
        <div class="progress-section" id="progressSection" style="display: none;">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-info" id="progressInfo"></div>
            
            <div class="stats-grid" id="statsGrid"></div>
            
            <div class="log-container">
                <h3>–ñ—É—Ä–Ω–∞–ª —Ä–∞–±–æ—Ç—ã:</h3>
                <div class="log" id="log"></div>
            </div>
        </div>

        <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã -->
        <div class="results-section" id="resultsSection" style="display: none;">
            <h2>‚úÖ –ö—Ä–∞—É–ª–∏–Ω–≥ –∑–∞–≤–µ—Ä—à–µ–Ω!</h2>
            <div class="results-stats" id="resultsStats"></div>
            
            <div class="tabs">
                <button class="tab-button active" onclick="openTab('mainPages')">–û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã</button>
                <button class="tab-button" onclick="openTab('externalLinks')">–í–Ω–µ—à–Ω–∏–µ —Å—Å—ã–ª–∫–∏</button>
                <button class="tab-button" onclick="openTab('brokenLinks')">–ë–∏—Ç—ã–µ —Å—Å—ã–ª–∫–∏</button>
                <button class="tab-button" onclick="openTab('files')">–§–∞–π–ª—ã</button>
            </div>
            
            <div class="tab-content">
                <div id="mainPages" class="tab-pane active">
                    <h3>–û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–∞–π—Ç–∞</h3>
                    <div class="export-buttons">
                        <button onclick="exportMainCSV()">üì• CSV –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü</button>
                        <button onclick="exportFullData()">üìä –ü–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (JSON)</button>
                    </div>
                    <div class="urls-table" id="mainPagesTable"></div>
                </div>
                
                <div id="externalLinks" class="tab-pane">
                    <h3>–í–Ω–µ—à–Ω–∏–µ —Å—Å—ã–ª–∫–∏</h3>
                    <button onclick="exportExternalCSV()">üì• CSV –≤–Ω–µ—à–Ω–∏—Ö —Å—Å—ã–ª–æ–∫</button>
                    <div class="urls-table" id="externalLinksTable"></div>
                </div>
                
                <div id="brokenLinks" class="tab-pane">
                    <h3>–ë–∏—Ç—ã–µ —Å—Å—ã–ª–∫–∏ (4xx, 5xx)</h3>
                    <button onclick="exportBrokenCSV()">üì• CSV –±–∏—Ç—ã—Ö —Å—Å—ã–ª–æ–∫</button>
                    <div class="urls-table" id="brokenLinksTable"></div>
                </div>
                
                <div id="files" class="tab-pane">
                    <h3>–§–∞–π–ª—ã (PDF, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –¥—Ä.)</h3>
                    <button onclick="exportFilesCSV()">üì• CSV —Ñ–∞–π–ª–æ–≤</button>
                    <div class="urls-table" id="filesTable"></div>
                </div>
            </div>
        </div>

        <div class="error" id="error"></div>
    </div>

    <script src="crawler.js"></script>
</body>
</html>
